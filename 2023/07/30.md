## 取り組んだ課題一覧
- タイピング練習
- Web技術の基本を学ぶ
## わかったこと
### ポート番号
- TCP/IPによって情報を受けるアプリケーションは、受信した情報がどのようなプロトコルを識別するために、待ち受けポートを決める。そのため、本来はIPアドレスだけではなく、ポート番号も指定する必要がある
- 実際はポート番号を省略しても、リクエストが正しく届く。理由としてはHTTPなどのよく使われるポートについては、ウェル・ノウン・ポート(well-known ports)といって、ポート番号が決まっているため。代表的なのは本のP137参照
### GETによるパラメータ渡し
- webサーバーはURLの後の?以降をクエリ文字列と認識する。渡すパラメータの数の分だけ&で区切る。それぞれ「パラメータ名=値」となっている
- PHPでは$_GETという連想配列にパラメータと値が入っているので、そこから値を取得できる(Railsでいうところのparams?)
#### メリット
- google検索の結果のように、同じ要求を何度繰り返しても同じ結果が得られる(リクエストの結果がシステムの状態に影響を与えない)、副作用がない
#### デメリット
- リクエストラインがログとして残るため、ユーザー名やパスワードといった重要な情報をGETで扱うのは危険
- 255文字制限があるので、多くの情報を扱えない
### POSTによるパラメータ渡し
- クエリ文字列を使用する代わりに、メッセージボディを利用してパラメータを渡す
#### メリット
- ログに残らないことが多いため、セキュアである
- 多くの情報を渡せる
#### デメリット
- メッセージボディにパラメータが含まれるため、パラメータの保存ができない。
### パーセントエンコード
- 文字化けを防ぐため、ブラウザ側で文字列を文字コード(16進数)に変換する処理が自動で行われている
***
### ピザ・ペントミノ
- Payloadはパケット通信においてパケットに含まれるヘッダやトレーラなどの付加的情報を除いた、データ本体のこと
- プログラムの動作を拡張する部品を「モジュール」と呼ぶ。モジュールは単体でも機能として成立しているが、普通は他の部品と組み合わせて使う。組み合わさった部品群が「ライブラリ」
#### Stateful Protocol(ステートフル・プロトコル)
- FTPのように、前回のリクエスト結果を覚えていて、それを踏まえて次のリクエストを実行している。つまり、リクエストにともなって状態を持つプロトコルのことをステートフルプロトコルと呼ぶ
- クライアントごとに状態を保持しないといけないため、サーバー側にとっては実現難易度が上がる
- 通信手順が多くなるため、オーバヘッドが大きくなる
- アクセスの度に認証が必要
#### Stateless Protocol(ステートレス・プロトコル)
- HTTPのように、１回のリクエストだけで、用が済んでしまう、つまり、前回までのリクエストの状態を保持しないプロトコルのことをステートレスプロトコルと呼ぶ
- ステートレスプロトコルは状態を持たないので、ユーザーの認証情報など、全てのリクエストで共通する状態を保持するための技術が必要になる
##### Cookie
- Webブラウザに状態を持たせる技術がCookieである
- WebサーバーからWebブラウザに、HTTPレスポンスのヘッダーに名前=値の組み合わせ（Cookie)を入れる。Webブラウザ側がこれを受け取る
- Cookieを受け取ったWebブラウザは、それをHTTPリクエストのヘッダーに入れて送る。Webアプリケーション側は、そこに入っているCookieを調べることで、相手を識別することができる
- ユーザー名とパスワードが誤っていた、もしくは、ログアウト時にCookieを取り消せば、次回リクエスト時に、Cookieが無い＝認証が済んでいないと判別ができる。このような仕組みを使うことで、状態の保持をステートレスプロトコルで実現している
- Webブラウザは、Cookieを受け取った相手以外の、サーバーには送信しないという仕組みがあり、意図しない情報が他のサーバーに流出するのを防いでいる
##### Session
- Cookieは第三者から簡単に覗けてしまうので、ユーザー名やパスワードなどの機密情報自体を含めるのは危険である
- クライアントが目的を達成するために、Webアプリケーションに何度かHTTPリクエストを行う必要があり、この一連の処理の流れをセッション（Session）と呼ぶ
- セッション開始時に、Webサーバーが（クライアントの状態の情報に紐づく）セッションIDを発行し、HTTPレスポンスのCookieへ格納してクライアントへ渡す
- クライアント側は受け取ったセッションIDを格納したCookieをサーバへ送る。WebサーバーがCookieに格納されたセッションIDから、クライアントの状態を復元する
- ログアウトなど、セッションが完了した段階で、セッション情報を破棄する。WebサーバーはクライアントにセッションIDが割り当てられているか否かによって、認証の有無を判断できる。
## 次やること
- Web技術の基本を学ぶ
## 感じたこと
- Railsを先に学習していたので、セッション関連の箇所はすんなりと理解できた。実際に手を動かす→座学という順番で勉強した方が、知識の定着が早いと感じた
## 学習時間
- Today: 3h
- Total: 66h
